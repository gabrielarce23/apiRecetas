<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Recetas Api Doc</title>
  </head>
  <body>
    <h2>Docu de la Api de Recetas</h2>
    <br />
    <p>
      Todos los endpoints tienen como url base
      https://recetas-api-taller.herokuapp.com/
    </p>
    <p>Setear el Content Type del request con "application/json"</p>
    <p>
      Para los casos de autenticación se debe mandar en el header le token bajo
      la key 'x-auth'
    </p>
    <p>
      Las respuestas exitosas retornaran status 200. De lo contrario se retorará
      el status http correspondiente y un mensaje de error genérico.
    </p>
    <br />

    <h3>Endpoint Usuarios</h3>

    <details>
      <summary><b>Registro en la app POST</b></summary>
      <p>Requiere Autenticación: No</p>
      <p>URL: 'api/usuarios/signin'</p>
      <p>Ejemplo body</p>
      <code>
        { "nombre": "Gabriel", "apellido": "Arce", "email":
        "correo123@yoquese.com", "direccion": "Solano Garcia", "password":
        "aa123456" }
      </code>

      <p>Ejemplo respuesta</p>
      <code> {} </code><br /><br />
      <p>
        Comentarios: Todos los datos que se ven son obligatorios. Se valida
        formato de mail y que el password sea de largo 8 mínimo. El correo no
        debe existir en la base.
      </p>
    </details>

    <br />
    <details>
      <summary><b>Login POST</b></summary>
      <p>Requiere Autenticación: No</p>
      <p>URL: 'api/usuarios/login'</p>
      <p>Ejemplo body</p>
      <code>
        { "email": "correo123@yoquese.com", "password": "aa123456" }
      </code>

      <p>Ejemplo respuesta</p>
      <code>
        { "token":
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.dsfsdfsfdsd.UEjqoGyB9vhLKBAACRTEAYfmTBA0vmb6iAvp_kxS_4s"
        } </code
      ><br /><br />
      <p>
        Comentarios: el token devuelto es el token que se debe mandar para
        autenticarse en caso de que se necesite.
      </p>
    </details>
    <br />

    <details>
      <summary><b>Obtener todos los usuarios GET</b></summary>
      <p>Requiere Autenticación: Si</p>
      <p>URL: 'api/usuarios'</p>
      <p>Ejemplo respuesta</p>
      <code>
        [ { "_id": "5e39bad609733633bf056ccc", "email": "correo123@yoquese.com",
        "nombre": "Gabriel", "apellido": "Arce", "direccion": "Solano Garcia
        1234", "__v": 1 } ]
      </code>
    </details>
    <br /><br />

    <h3>Endpoint Recetas</h3>

    <details>
      <summary><b>Alta de receta POST</b></summary>
      <p>Requiere Autenticación: Si</p>
      <p>URL: 'api/recetas'</p>
      <p>Ejemplo body</p>
      <code>
        { "nombre": "Suprema al horno con ensalada 3", "ingredientes": [
        "suprema pollo", "tomate", "lechuga", "sal", "aceite" ], "preparacion":
        "Se prepara y se come" }
      </code>

      <p>Ejemplo respuesta</p>
      <code>
        { "fecha": 1580873964700, "ingredientes": [ "suprema pollo", "tomate",
        "lechuga", "sal", "aceite" ], "_id": "5e3a3901703931657765b8ae",
        "preparacion": "Se prepara y se come", "nombre": "Suprema al horno con
        ensalada 3", "usuario": { "_id": "5e39bad609733633bf056ccc", "email":
        "correo123@yoquese.com", "nombre": "Gabriel 2", "apellido": "Arce",
        "direccion": "Solano Garcia 1234", "__v": 1 }, "__v": 0 } </code
      ><br /><br />
      <p>
        Comentarios: Todos los datos que se ven son obligatorios.
      </p>
    </details><br>
    <details>
      <summary><b>Modificar receta PUT</b></summary>
      <p>Requiere Autenticación: Si</p>
      <p>URL: 'api/recetas/:id'</p>
      <p>Ejemplo body</p>
      <code>
        { "nombre": "Suprema al horno con ensalada 3", "ingredientes": [
        "suprema pollo", "tomate", "lechuga", "sal", "aceite" ], "preparacion":
        "Se prepara y se come modificada de nuevo" }
      </code>

      <p>Ejemplo respuesta</p>
      <code
        >{ "fecha": 1580873099841, "ingredientes": [ "suprema pollo", "tomate",
        "lechuga", "sal", "aceite" ], "_id": "5e3a35ca1d633b62a7260088",
        "preparacion": "Se prepara y se come modificada de nuevo", "nombre":
        "Suprema al horno con ensalada 3", "usuario": { "_id":
        "5e39bad609733633bf056ccc", "email": "correo123@yoquese.com", "nombre":
        "Gabriel 2", "apellido": "Arce", "direccion": "Solano Garcia 123",
        "__v": 1 }, "__v": 0 } </code
      ><br /><br />
      <p>
        Comentarios: Todos los datos que se ven son obligatorios. Se sustituye
        un objeto por otro. Se debe pasar en la url en lugar de :id, el id de la receta a modificar
      </p>
    </details><br>
    <details>
      <summary><b>Obtener todas las recetas GET</b></summary>
      <p>Requiere Autenticación: Si</p>
      <p>URL: 'api/recetas'</p>
      <p>Ejemplo respuesta</p>
      <code
        >[ { "fecha": 1580873099841, "ingredientes": [ "suprema pollo",
        "tomate", "lechuga", "sal", "aceite" ], "_id":
        "5e3a35ca1d633b62a7260088", "preparacion": "Se prepara y se come
        modificada de nuevo", "nombre": "Suprema al horno con ensalada 3",
        "usuario": { "_id": "5e39bad609733633bf056ccc", "email":
        "correo123@yoquese.com", "nombre": "Gabriel 2", "apellido": "Arce",
        "direccion": "Solano Garcia 1234", "__v": 1 }, "__v": 0 } ]</code
      >
    </details><br>
    <details>
      <summary><b>Obtener una receta GET</b></summary>
      <p>Requiere Autenticación: Si</p>
      <p>URL: 'api/recetas/:id'</p>
      <p>Ejemplo respuesta</p>
      <code
        >{ "fecha": 1580873099841, "ingredientes": [ "suprema pollo", "tomate",
        "lechuga", "sal", "aceite" ], "_id": "5e3a35ca1d633b62a7260088",
        "preparacion": "Se prepara y se come modificada de nuevo", "nombre":
        "Suprema al horno con ensalada 3", "usuario": { "_id":
        "5e39bad609733633bf056ccc", "email": "correo123@yoquese.com", "nombre":
        "Gabriel 2", "apellido": "Arce", "direccion": "Solano Garcia 123",
        "__v": 1 }, "__v": 0 } </code
      ><br /><br />
      <p>
          Se debe pasar en la url en lugar de :id, el id de la receta a modificar
      </p>
    </details>
  </body>
</html>
